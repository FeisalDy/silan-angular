<label
    class="flex flex-col items-center justify-center w-full h-60 px-6 transition border-2 border-dashed rounded-md cursor-pointer bg-surface-container-lowest border-on-surface-variant focus-within:border-0 focus-within:ring-2 focus-within:ring-primary"
    appFileSelect (fileSelect)="onFileSelect($event)">
    <div class="flex flex-col items-center space-y-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-gray-500" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
        </svg>

        <!-- Main Label -->
        <div class="text-center">
            <p class="font-medium text-on-surface">
                Drop files to upload, or
                <span class="text-primary underline">browse</span>
            </p>
            <p class="text-sm text-on-surface-variant mt-1">Your files will be securely uploaded.</p>
        </div>
    </div>

    <div class="mt-3 text-xs text-on-surface-variant text-center space-y-1">
        @if (acceptAttribute) {
        <div><span class="font-medium">Allowed types:</span> {{ acceptAttribute }}</div>
        }
        @if (maxFileSize) {
        <div><span class="font-medium">Max size:</span> {{ maxFileSize | fileSize }}</div>
        }
        <div><span class="font-medium">Max files:</span> {{ maxFilesLabel }}</div>
    </div>

    <input type="file" [attr.multiple]="allowMultiple ? '' : null" [attr.accept]="acceptAttribute" name="file_upload"
        class="sr-only" />
</label>

<div class="mt-4">
    @for (file of files; track $index) {
    <app-file-card [file]="file" (remove)="removeFile($index)"></app-file-card>
    }
</div>