<article class="flex items-start gap-4 border-b border-outline-variant/40 pb-4">
    <figure class="shrink-0">
        <img class="aspect-2/3 h-40 md:h-60 rounded-md object-cover shadow-sm" [src]="novel().cover_url ?? ''"
            [alt]="novel().title | truncate:80" />
    </figure>

    <div class="flex-1 min-w-0 cursor-pointer" [routerLink]="['/novels', novel().id]">
        <header class="mb-2">
            <h2 class="text-lg font-semibold text-slate-900 truncate">
                {{ novel().title | truncate:80 }}
            </h2>
            <p class="text-sm text-slate-600">
                <span class="font-medium">Author:</span>
                {{ (novel().original_author || 'Unknown') | truncate:80 }}
            </p>
        </header>

        <section class="prose prose-sm md:prose-base max-w-none line-clamp-5">
            <div [innerHTML]="novel().description | safeHtml"></div>
        </section>

        <footer class="mt-3">
            <mat-chip-set aria-label="Novel tags" class="flex flex-wrap gap-1">
                @for (tag of tags(); track tag.slug) {
                <mat-chip [title]="tag.description" selected (click)="onTagClick($event, tag)">{{
                    tag.name }}</mat-chip>
                }
            </mat-chip-set>
        </footer>
    </div>
</article>